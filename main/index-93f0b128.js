import{r as x,h as w,i as j,k as I,V as p,a as D,w as et,g as ot,l as N}from"../async/async-module-39a35f42.js";import{n as h,_ as u,a as nt}from"../async/async-module-d331ac4b.js";import{_ as st,a as at,b as B,V as R,c as rt,d as lt,e as M,f as L,g as z,h as g,i as H,j as it,k as ct,l as ut,m as pt,n as mt,o as ft,p as dt,q as _t,r as ht,s as yt,t as wt,u as gt,v as q,R as vt,w as bt,S as xt,C as $t,I as St,x as Ot,z as Pt}from"../async/async-module-a57722d3.js";import{d as G,s as kt,P as Ct,c as Tt}from"../async/async-module-38047afd.js";import{a as At}from"../async/async-module-a356b00f.js";import{m as Ft}from"../async/async-module-f7ef348c.js";import{d as Bt}from"../async/async-module-d40ead01.js";import{_ as Rt}from"../async/async-module-456a8791.js";import"../async/async-module-08d0ebb5.js";import"../async/async-module-b04b7353.js";function Be(){import.meta.url,import("_").catch(()=>1);async function*o(){}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();const Mt={__name:"Footers",props:{app:{type:Boolean,default:!0}},setup(o){return{__sfc:!0,props:o}}};var jt=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(st,{attrs:{app:t.app,elevation:"4"}},[e("h3",[t._v("footers")])])},Dt=[],Vt=h(Mt,jt,Dt,!1,null,null,null,null);const Et=Vt.exports,S=At.create({});S.interceptors.request.use(async o=>o,o=>Promise.reject());S.interceptors.response.use(o=>{const{data:t,status:e}=o;return e===200?Promise.resolve(t):Promise.reject()},o=>Promise.reject());const It={install(o){o.prototype.$http=S}},Nt=S,W=G("admin-module-store",{state:()=>({currentMinorModule:"",currentModule:"",currentMenuName:"",currentRoute:"",currentPath:"",modules:{},options:{}}),actions:{async getModels(){return await Nt.get()}}}),Lt={dialogShow:{type:Boolean,default:!1},action:{type:String,default:""},actionApi:{type:String,default:""},isNew:{type:Boolean,default:!1},module:{type:String,default:""},title:{type:[String,Object],default:""},helper:{type:String,default:""},data:{type:Object,default:()=>({})},ele:{type:[Array,Function],default:()=>[]},confirmConfig:{type:Object,default:()=>({})},confirmText:{type:String,default:"确认"},fullscreen:{type:Boolean,default:!1},onConfirm:{type:Function,default:null},onOpen:{type:Function,default:null},async:{type:Boolean,default:!1},multiForms:{type:Array,default:()=>[]},formData:{type:Object,default:()=>({})},actionName:{type:String,default:""},params:{type:Object,default:()=>({})},width:{type:[Number,String],default:600},feedback:{type:Boolean,default:!1},cb:{type:Function,default:null}},d=(o,t)=>Object.prototype.toString.call(o).slice(8).startsWith(t),$={isArray:o=>d(o,"Array"),isBoolean:o=>d(o,"Boolean"),isObject:o=>d(o,"Object"),isString:o=>d(o,"String"),isFunction:o=>d(o,"Function"),isNumber:o=>d(o,"Number"),isEmpty:o=>o!=null?o:!0},F=({data:o=null,params:t=[],customData:e=null})=>$.isFunction(o)?o.apply(globalThis,t):e||o,zt=(o,t)=>$.isObject(o)?`将${o.name||o.id?`${o.name?"名":"ID"}为 <span class='tw-text-primary'>【 ${o.name||o.id} 】</span>的`:"该"}${o.body||"条目"}<span class="tw-text-blue-400">${o.operate}</span>`:$.isFunction(o)?o(t):o,Ht=I({name:"ActionDialog",model:{event:"update:dialogShow",prop:"dialogShow"}}),qt=Object.assign(Ht,{props:Lt,emits:["update:dialogShow","close-dialog"],setup(o,{emit:t}){const e=o,n=zt(e.title,e.data),s=x(""),a=w({get:()=>e.dialogShow,set:i=>{t("update:dialogShow",i)}}),r=j("keyName",null),l=w(()=>e.module||j("module",null)||W().currentModule);let m=x(e.multiForms.length?e.multiForms:[e.feedback?{...e.data}:{...e.formData}]);const y=w(()=>({...r&&!e.isNew?{[r]:e.data[r]}:{},...F({data:e.params,params:[e.data]})})),f=w(()=>F({data:e.ele,params:[e.data]}));return{__sfc:!0,props:e,title:n,emits:t,formV:s,show:a,keyName:r,module:l,forms:m,defaultParams:y,formConfig:f,cancel:()=>{a.value=!1,s.value[0].onreset(),t("close-dialog")}}}});var Gt=function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(at,{attrs:{"max-width":t.width,scrollable:"",persistent:""},on:{keydown:function(s){if(!s.type.indexOf("key")&&t._k(s.keyCode,"esc",27,s.key,["Esc","Escape"]))return null;n.show=!1}},model:{value:n.show,callback:function(s){n.show=s},expression:"show"}},[e(B,[n.title?[e(R,{staticClass:"tw-flex tw-justify-between"},[e("div",{domProps:{innerHTML:t._s(n.title)}}),e(rt,{on:{click:function(s){n.show=!1}}},[t._v("mdi-window-close")])],1),e(lt)]:t._e(),e(M,{staticClass:"tw-p-6"},[t._l(n.forms,function(s,a){return[n.formConfig&&n.formConfig.length?e("form-view",{ref:"formV",refInFor:!0,attrs:{"in-dialog":"","action-api":t.actionApi,action:t.action,module:n.module,"is-new":t.feedback?!Object.keys(t.data).length:t.isNew,"default-params":n.defaultParams,"form-config":n.formConfig},on:{"close-dialog":n.cancel},model:{value:n.forms[a],callback:function(r){t.$set(n.forms,a,r)},expression:"forms[index]"}}):t._e()]})],2)],2)],1)},Wt=[],Kt=h(qt,Gt,Wt,!1,null,null,null,null);const Jt=Kt.exports,K=Ft(),_=K,Qt={install(o){o.prototype.$bus=K}},Ut="global-loading",Xt="confirm",J="toast",Yt="dialog",A=o=>o.constructor.name==="AsyncFunction",Zt={el:document.createElement("div"),data:{show:!1,ele:null,destroyTimer:null,button:{elevation:2,class:"tw-mx-2 tw-py-2 tw-h-8 tw-px-8",rounded:!0,color:"primary"}},mounted(){this.ele=document.getElementsByClassName("v-application")[0],this.ele.appendChild(this.$el),this.$nextTick(()=>this.show=!0)},methods:{destroy(){this.$destroy(),this.ele.contains(this.$el)&&this.ele.removeChild(this.$el),this.destroyTimer&&clearTimeout(this.destroyTimer),this.destroyTimer=null}}},te=(o,t)=>o?new Promise((e,n)=>t(e,n)):t(),Q=([{msg:o={id:"",name:"",body:"",operate:"",multi:!1,confirmByOperate:!0,extraMsg:""},confirmText:t="确认",cancelText:e="取消",hideCancel:n=!1,onConfirm:s=null,onCancel:a=null,async:r=!0,toast:l={}}])=>{const m=`
    <v-overlay 
      class='confirm-action'
      v-model="show"
      z-index="50"
      width="100%"
      height="100%"
      scroll-strategy="block"
      close-on-content-click
    >
      <v-card color='#fff' elevation='12' :class='["tw-px-2","tw-pt-4", "md:tw-px-20","tw-animate-scale"] '>
        <v-card-text class='tw-whitespace-pre-line tw-text-16 tw-text-black tw-text-center' v-html='msg' />
        <v-sheet
          color='#fff'
          class='tw-flex tw-justify-center tw-py-4 tw-w-full'
        >
          <v-btn
            v-bind='button'
            @click='onConfirm'
          >
            ${o.confirmByOperate?o.operate:t}
          </v-btn>
          <v-btn
            v-if='${!n}'
            v-bind='button'
            plain
            @click='onCancel'
          >
            ${e}
          </v-btn>
        </v-sheet>
    </v-card>
    </v-overlay>`;return te(r,(f,v)=>new p({template:m,name:"confirm",components:{VOverlay:L,VCard:B,VCardTitle:R,VCardText:M,VSheet:z,VBtn:g},mixins:[Zt],computed:{msg(){if($.isString(o))return o;{const{id:i,multi:O,name:b,body:P,operate:k,extraMsg:C}=o;return`${`确定将${O?"选中":i||b?`${b?" 名":" ID"}为 <span class='tw-text-primary'>${b||i} `:"所选"}</span>的${P}<span class='tw-text-blue-400 tw-underline'> ${k} </span>吗？${C||""}`}`}}},methods:{async onConfirm(){console.log(A(s)),s?A(s)?await s():s():f&&f(),this.cancel(),l.msg&&_.emit(J,l)},cancel(){this.show=!1,this.destroyTimer=setTimeout(this.destroy,1200)},async onCancel(){a&&(A(a)?await a():a()),this.cancel()}}}))},ee={install(o){o.prototype.$confirm=(...t)=>Q(t)}},U=(...o)=>Q(o),He=Object.freeze(Object.defineProperty({__proto__:null,default:ee,useConfirm:U},Symbol.toStringTag,{value:"Module"})),oe={__name:"Status-capture",setup(o){const t=D({show:null}),e=D({show:!1,title:"请确认",msg:"是否确认",type:"",confirm:null,toast:!1,timeout:1500,color:"green"}),n=x(!1);return _.on(Ut,s=>n.value=s),_.on("err",({msg:s,type:a="error"})=>{e.show=!0,e.msg=s}),_.on(J,({msg:s,...a})=>{e.show=e.toast=!0,e.msg=s;for(let r in a)e[r]=a[r]}),_.on(Xt,({msg:s,onConfirm:a,confirmText:r,toast:l,...m})=>{console.log(s),U({msg:s,confirmText:r,toast:l,onConfirm:a,...m})}),_.on(Yt,s=>{t.show=!0;for(let a in s)t[a]=s[a]}),{__sfc:!0,dialogDefaultStatus:t,captureStatus:e,loading:n,ActionDialog:Jt}}};var ne=function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"tw-h-full"},[n.dialogDefaultStatus.show!==null?e(n.ActionDialog,t._b({model:{value:n.dialogDefaultStatus.show,callback:function(s){t.$set(n.dialogDefaultStatus,"show",s)},expression:"dialogDefaultStatus.show"}},"action-dialog",n.dialogDefaultStatus,!1)):t._e(),n.loading?e(H,{staticClass:"tw--left-50p tw--top-50p tw-fixed tw-h-full tw-w-full tw-translate-x-1/2 tw-translate-y-1/2 tw-transform",staticStyle:{"z-index":"9999"},attrs:{indeterminate:"",color:"primary"}}):n.captureStatus.toast?e(it,t._b({scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e(g,t._b({attrs:{text:""},on:{click:function(a){n.captureStatus.show=!1}}},"v-btn",s,!1),[t._v(" 关闭 ")])]}}]),model:{value:n.captureStatus.show,callback:function(s){t.$set(n.captureStatus,"show",s)},expression:"captureStatus.show"}},"v-snackbar",n.captureStatus,!1),[t._v(" "+t._s(n.captureStatus.msg)+" ")]):e(L,{attrs:{"z-index":"999",width:"100%",height:"100%","scroll-strategy":"block","close-on-content-click":""},model:{value:n.captureStatus.show,callback:function(s){t.$set(n.captureStatus,"show",s)},expression:"captureStatus.show"}},[n.captureStatus.confirm?e(B,{attrs:{width:"50vw",color:"#fff"}},[e(R,{staticClass:"tw-flex tw-justify-center tw-text-black",domProps:{textContent:t._s(n.captureStatus.title)}}),e(M,{staticClass:"tw-text-black",domProps:{innerHTML:t._s(n.captureStatus.msg)}}),e(z,{staticClass:"tw-flex tw-w-full tw-justify-center tw-py-4",attrs:{color:"#fff"}},[e(g,{staticClass:"tw-mx-2 tw-h-8 tw-py-2",attrs:{elevation:"2",rounded:"",color:"primary"},on:{click:n.captureStatus.confirm}},[t._v(" 确 认 ")]),e(g,{staticClass:"tw-mx-2 tw-h-8 tw-py-2",attrs:{elevation:"2",rounded:"",plain:"",color:"primary"},on:{click:function(s){n.captureStatus.show=!1}}},[t._v(" 取 消 ")])],1)],1):e(ct,{attrs:{type:n.captureStatus.type,"colored-border":"",dismissible:"",elevation:"12",border:"left",rounded:"",position:"fixed",width:"100vw","max-width":"500px",location:"center",variant:"text"},scopedSlots:t._u([{key:"close",fn:function(){return[e(g,{attrs:{color:n.captureStatus.type==="error"?"primary":""},on:{"&click":function(s){n.captureStatus.show=!1}}},[t._v(" 知道了 ")])]},proxy:!0}],null,!1,2225113351)},[t._v(" "+t._s(n.captureStatus.msg)+" ")])],1)],1)},se=[],ae=h(oe,ne,se,!1,null,null,null,null);const re=ae.exports,le=I({model:{prop:"expend",event:"item-click"}}),ie=Object.assign(le,{__name:"Drawer-nav-menu",props:{app:{type:Boolean,default:!1},expend:{type:Boolean,default:!0},color:{type:String,default:"white"},defaultTextColor:{type:String,default:"black"},static:{type:Boolean,default:!1},menus:{type:Array,default:()=>[]},router:{type:Boolean,default:!0},right:{type:Boolean,default:!1},temporary:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},shaped:{type:Boolean,default:!1},exactPath:{type:[Boolean,Function],default:null}},emits:["item-click"],setup(o,{emit:t}){const e=o,n=w({get:()=>e.static||e.expend,set:r=>t("item-click",r)}),{proxy:{$vuetify:{breakpoint:{mobile:s}}}}=ot();let a=x(0);return et(()=>a.value,()=>!e.static&&t("item-click",!1)),{__sfc:!0,props:e,emit:t,show:n,mobile:s,group:a,maybeFunction:F}}});var ce=function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(ut,{class:[{"tw-z-50":n.mobile},"tw-flex-shrink-0"],attrs:{color:t.color,app:t.app,temporary:t.temporary,fixed:t.fixed,right:t.right},scopedSlots:t._u([t._l(t.$scopedSlots,function(s,a){return{key:a,fn:function(r){return[t._t(a,null,null,r)]}}})],null,!0),model:{value:n.show,callback:function(s){n.show=s},expression:"show"}},[e(pt,{attrs:{shaped:t.shaped&&!n.mobile,nav:n.mobile,subheader:""}},[e(mt,{attrs:{"active-class":"tw-bg-primary tw-font-bold tw-text-white"},model:{value:n.group,callback:function(s){n.group=s},expression:"group"}},t._l(t.menus,function({name:s,key:a,title:r,meta:{menuName:l}={}}){return e(ft,t._b({key:a||s},"v-list-item",t.router?{to:{name:a||s},...t.exactPath?{exactPath:n.maybeFunction({data:t.exactPath,params:[a||l,s,r]})}:{}}:{},!1),[e(dt,[t._t("list-icon",null,null,{name:s,key:a,title:r})],2),e(_t,[t._t("list-Name",function(){return[e(ht,{domProps:{textContent:t._s(r||l)}})]},null,{name:r||l})],2)],1)}),1)],1)],1)},ue=[],pe=h(ie,ce,ue,!1,null,null,null,null);const me=pe.exports,X=G("admin-routes-store",{state:()=>({routes:[]})}),fe={__name:"App",setup(o){const{routes:t}=kt(X());return{__sfc:!0,routes:t,footers:Et,StatusCapture:re,DrawerNavMenu:me}}};var de=function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(yt,[e(n.DrawerNavMenu,{attrs:{app:"",shaped:"",static:"",expend:"",menus:n.routes}}),e(wt,{staticClass:"tw-h-full"},[e(gt,{attrs:{mode:"out-in"}},[e("router-view",{staticClass:"tw-flex-grow"})],1)],1),e(n.footers,{attrs:{app:""}}),e(n.StatusCapture)],1)},_e=[],he=h(fe,de,_e,!1,null,null,null,null);const ye=he.exports;p.use(q,{directives:{Ripple:vt,Resize:bt,Scroll:xt,ClickOutside:$t,Intersect:St}});const we={breakpoint:{mobileBreakpoint:"sm",scrollBarWidth:10},icons:{iconfont:"mdiSvg"},lang:{current:"zhHans",locales:{pl:Ot,zhHans:Pt}},theme:{options:{minifyTheme:Rt,customProperties:!0}}},ge={},ve=((o={})=>new q(Bt(we,o)))(ge),Y="admin",Z=[{path:"/",name:Y,component:()=>u(()=>import("../async/async-module-91b3b8e1.js"),["..\\async\\async-module-91b3b8e1.js","..\\async\\async-module-38047afd.js","..\\async\\async-module-39a35f42.js","..\\async\\async-module-b04b7353.js","..\\async\\async-module-d331ac4b.js","..\\async\\async-module-08d0ebb5.js","..\\async\\async-module-a57722d3.js","..\\css\\vuetify-ab536cbd.css","..\\async\\async-module-a356b00f.js","..\\async\\async-module-f7ef348c.js","..\\async\\async-module-d40ead01.js","..\\async\\async-module-456a8791.js"],import.meta.url),children:[]},{path:"/test",name:"test",component:()=>u(()=>import("../async/async-module-3e3fb5d3.js"),["..\\async\\async-module-3e3fb5d3.js","..\\async\\async-module-2f5f9ef4.js","..\\async\\async-module-38047afd.js","..\\async\\async-module-39a35f42.js","..\\async\\async-module-b04b7353.js","..\\async\\async-module-08d0ebb5.js","..\\async\\async-module-d331ac4b.js","..\\async\\async-module-a57722d3.js","..\\css\\vuetify-ab536cbd.css","..\\async\\async-module-a356b00f.js","..\\async\\async-module-f7ef348c.js","..\\async\\async-module-d40ead01.js","..\\async\\async-module-456a8791.js"],import.meta.url)}],be=({currentModule:o,currentMenuName:t,currentMinorModel:e,currentPath:n})=>{const s=W();return s.$patch(a=>{a.currentModule=o,a.currentMenuName=t,a.currentMinorModel=e,a.currentPath=n}),s};let V=!1;async function xe(o,t,e){const{name:n,meta:{menuName:s,isMinors:a}={},path:r}=o,l=Z.some(({name:i})=>n===i),m=r.split("/"),y=X(),f=be({currentMenuName:s,currentModule:m[1],currentPath:r,currentMinorModule:a?n.split(".")[0]:""}),v=()=>e({...n==="admin"?{name:y.routes[0].name,replace:!0}:{}});if(V)v();else{const[{value:{default:i}},{value:{default:O}},{value:{default:b}}]=await Promise.allSettled([u(()=>import("../async/async-module-d331ac4b.js").then(c=>c.m),["..\\async\\async-module-d331ac4b.js","..\\async\\async-module-39a35f42.js","..\\async\\async-module-08d0ebb5.js"],import.meta.url),u(()=>import("../async/async-module-d331ac4b.js").then(c=>c.b),["..\\async\\async-module-d331ac4b.js","..\\async\\async-module-39a35f42.js","..\\async\\async-module-08d0ebb5.js"],import.meta.url),u(()=>import("../async/async-module-4b452795.js"),["..\\async\\async-module-4b452795.js","..\\async\\async-module-d331ac4b.js","..\\async\\async-module-39a35f42.js","..\\async\\async-module-08d0ebb5.js"],import.meta.url)]),{default:P}=await u(()=>import("../async/async-module-3b98a5a2.js"),[],import.meta.url),{moduleOptions:k,modules:C,routes:T}=i({models:P,pages:Object.assign({})});f.$patch(c=>{c.modules=C,c.options=k}),y.$patch(c=>c.routes=T);const{replaceTo:tt,resetRouter:Fe}=O({to:o,routes:T,router:this,parentName:Y});V=!0,l?v():tt()}}const $e=nt({routes:Z,beforeEach:xe,lazyHooks:!0});p.use(Ct);const Se=Tt(),Oe=[{name:"TableView",component:()=>u(()=>import("../async/async-module-b2765714.js"),["..\\async\\async-module-b2765714.js","..\\async\\async-module-2f5f9ef4.js","..\\async\\async-module-38047afd.js","..\\async\\async-module-39a35f42.js","..\\async\\async-module-b04b7353.js","..\\async\\async-module-d331ac4b.js","..\\async\\async-module-08d0ebb5.js","..\\async\\async-module-9b51b733.js","..\\async\\async-module-a57722d3.js","..\\css\\vuetify-ab536cbd.css","..\\async\\async-module-a356b00f.js","..\\async\\async-module-f7ef348c.js","..\\async\\async-module-d40ead01.js","..\\async\\async-module-456a8791.js","..\\css\\Table-view-8790385e.css"],import.meta.url)},{name:"FormView",component:()=>u(()=>import("../async/async-module-335bc94f.js"),["..\\async\\async-module-335bc94f.js","..\\async\\async-module-6ebdee79.js","..\\async\\async-module-39a35f42.js","..\\async\\async-module-d331ac4b.js","..\\async\\async-module-08d0ebb5.js","..\\async\\async-module-a57722d3.js","..\\css\\vuetify-ab536cbd.css","..\\async\\async-module-9b51b733.js","..\\async\\async-module-2f5f9ef4.js","..\\async\\async-module-38047afd.js","..\\async\\async-module-b04b7353.js","..\\async\\async-module-a356b00f.js","..\\async\\async-module-f7ef348c.js","..\\async\\async-module-d40ead01.js","..\\async\\async-module-456a8791.js","..\\css\\Form-view-7dd2c792.css"],import.meta.url)}];Oe.forEach(({name:o,component:t})=>p.component(o,N(t)));const Pe={};var ke=function(){var t=this,e=t._self._c;return e(H,{attrs:{indeterminate:"",color:"primary"}})},Ce=[],Te=h(Pe,ke,Ce,!1,null,null,null,null);const Ae=Te.exports,E=Object.assign({});for(let o in E){const t=o.substring(o.lastIndexOf("/")+1,o.lastIndexOf(".")),e=E[o];p.component(t,N({loader:e,loadingComponent:Ae}))}p.use(Qt);p.use(It);new p({pinia:Se,render:o=>o(ye),vuetify:ve,router:$e}).$mount("#app");export{Nt as $,Jt as A,Be as __vite_legacy_guard,W as a,Y as b,He as c,$ as h,F as m,_ as u};
