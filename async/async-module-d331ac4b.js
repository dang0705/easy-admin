import{V as P,n as A}from"./async-module-39a35f42.js";import{V as v}from"./async-module-08d0ebb5.js";function z(o,t,i,a,s,l,n,c){var e=typeof o=="function"?o.options:o;t&&(e.render=t,e.staticRenderFns=i,e._compiled=!0),a&&(e.functional=!0),l&&(e._scopeId="data-v-"+l);var r;if(n?(r=function(m){m=m||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!m&&typeof __VUE_SSR_CONTEXT__<"u"&&(m=__VUE_SSR_CONTEXT__),s&&s.call(this,m),m&&m._registeredComponents&&m._registeredComponents.add(n)},e._ssrRegister=r):s&&(r=c?function(){s.call(this,(e.functional?this.parent:this).$root.$options.shadowRoot)}:s),r)if(e.functional){e._injectStyles=r;var u=e.render;e.render=function(h,p){return r.call(p),u(h,p)}}else{var d=e.beforeCreate;e.beforeCreate=d?[].concat(d,r):[r]}return{exports:o,options:e}}function R(o,t,i,a){return i||a?o.call(this,t,i,a):o.call(this,t).catch(s=>{})}const{push:U,replace:B}=v.prototype;v.prototype.push=function(...o){R.call(this,U,...o)},v.prototype.replace=function(...o){R.call(this,B,...o)};const te=({beforeEach:o=null,afterEach:t=null,beforeResolve:i=null,mode:a="history",lazyHooks:s=!1,...l})=>{P.use(v);const n=new v({mode:a,...l}),c=(e,r)=>{const u=r[2];e?s?A(()=>e.call(n,...r)):e.call(n,...r):u&&u()};return n.beforeEach((...e)=>c(o,e)),n.beforeResolve((...e)=>c(i,e)),n.afterEach((...e)=>c(t,e)),n},F="modulepreload",W=function(o,t){return new URL(o,t).href},y={},X=function(t,i,a){if(!i||i.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(i.map(l=>{if(l=W(l,a),l in y)return;y[l]=!0;const n=l.endsWith(".css"),c=n?'[rel="stylesheet"]':"";if(!!a)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===l&&(!n||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const r=document.createElement("link");if(r.rel=n?"stylesheet":F,n||(r.as="script",r.crossOrigin=""),r.href=l,document.head.appendChild(r),n)return new Promise((u,d)=>{r.addEventListener("load",u),r.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t())},q=Object.assign({});function E({model:o,name:t="",includes:i=[],actions:a={},children:s=null,customModel:l={},excludes:n=[],view:c=null,options:e={},...r}){const{list:u="",detail:d="",add:m="",edit:h="",delete:p=""}=l,f={list:`${u||"index"}`,detail:`${d||"info"}`,create:`${m||"add"}`,update:`${h||"edit"}`,delete:`${p||"delete"}`};let $={};i.length?i.forEach(_=>f[_]&&($[_]=f[_])):(n.length&&n.forEach(_=>f[_]&&delete f[_]),$=f);let w={};return s==null||s.forEach(({model:_="",actions:O={},children:k=null,includes:V=[],excludes:S=[],name:N="",view:b=null,...T})=>w[(M=>(j=>j.map((g,L)=>L?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():g.toLowerCase()))(M.split("-")).join(""))(_)]=E({model:_,actions:O,children:k,includes:V,excludes:S,name:N,...b?{view:b}:{},...T})[_]),{[o]:{name:t,actions:a,apis:$,...s?{children:w}:{},...c?{view:c}:{},...r}}}function C({model:o,menuName:t,list:i=null,detail:a=null,children:s=[],isMinors:l=!1,...n}){var c;const e=s!=null&&s.ids?(()=>{let d="";for(let m in s.ids)d+=`${s.ids[m]}`;return d})():":id?",r={menuName:t,...l?{isMinors:!0}:{}};return{path:`${l?"":"/"}${o}`,name:`${o}.index`,component:()=>X(()=>Promise.resolve().then(()=>Q),void 0,import.meta.url),redirect:{name:`${o}.list`},meta:{menuName:t},children:[{path:`list/${e}`,name:`${o}.list`,component:i,meta:{...r,...(c=n==null?void 0:n.meta)==null?void 0:c.list}},...Array.isArray(a)?a:a?[{path:"detail/:id?",name:`${o}.detail`,component:a,meta:{...r,...(u=n==null?void 0:n.meta)==null?void 0:u.detail}}]:[],...s.map(({model:d,list:m,detail:h,menuName:p,children:f})=>C({model:d,menuName:p,list:m,detail:h,children:f,isMinors:!0}))]};var u}const D=({modules:o={},pages:t=q,modulesViewRoot:i="/src/views/admin",debug:a})=>{a&&console.log(t);const s=[];return Object.keys(o).forEach(l=>{const{children:n,name:c,view:e=null,...r}=o[l];let u=[];const d=({customView:m="",customModel:h="",type:p="list",child:f}={})=>t[`${i}/${($=>$.replace(/([A-Z])/g,"-$1").toLowerCase())(e||l)}/${f?`children/${m||h}/${p}.vue`:`${p}.vue`}`];if(n)for(const m in n){const{model:h,name:p,view:f}=n[m];u.push({model:h,menuName:p,list:d({customView:f,customModel:h,child:!0}),detail:d({customView:f,customModel:h,type:"detail",child:!0})})}s.push(C({model:l,menuName:c,list:d(),detail:d({type:"detail"}),...u.length?{children:u}:{},...r}))}),s},H=({models:o,modelsExtend:t={},pages:i=Object.assign({}),modulesViewRoot:a="/src/views/admin",debug:s})=>{const l={},n={};return o.forEach(c=>{const{model:e,options:r}=c,u=t[e]||{};r&&(n[e]=r);const d=E({...c,...u});l[e]=d[e]}),{routes:D({modules:l,pages:i,modulesViewRoot:a}),modules:l,moduleOptions:n}},ne=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));function I({routes:o,router:t=null,parentName:i="",notFound:a=null,to:s={}}){const l=[...t.options.routes],n=l.find(({name:e})=>e===i),c=()=>{n.children=[],t.matcher=new v({mode:t.mode,routes:l}).matcher};return c(),o.forEach(e=>{t.addRoute(i,e),n.children.push(e)}),a&&!t.getRoutes().some(({name:e})=>e==="not-found")&&(t.addRoute(a),t.options.routes.push(a)),{replaceTo:()=>t.replace(s),resetRouter:c}}const oe=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),Z={name:"blank"};var x=function(){var t=this,i=t._self._c;return i("router-view")},G=[],J=z(Z,x,G,!1,null,null,null,null);const K=J.exports,Q=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{X as _,te as a,oe as b,ne as m,z as n};
