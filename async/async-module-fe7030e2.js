import{V as L,n as A}from"./async-module-39a35f42.js";import{V as v}from"./async-module-08d0ebb5.js";function z(n,o,i,a,s,l,t,c){var e=typeof n=="function"?n.options:n;o&&(e.render=o,e.staticRenderFns=i,e._compiled=!0),a&&(e.functional=!0),l&&(e._scopeId="data-v-"+l);var r;if(t?(r=function(m){m=m||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!m&&typeof __VUE_SSR_CONTEXT__<"u"&&(m=__VUE_SSR_CONTEXT__),s&&s.call(this,m),m&&m._registeredComponents&&m._registeredComponents.add(t)},e._ssrRegister=r):s&&(r=c?function(){s.call(this,(e.functional?this.parent:this).$root.$options.shadowRoot)}:s),r)if(e.functional){e._injectStyles=r;var u=e.render;e.render=function(h,p){return r.call(p),u(h,p)}}else{var d=e.beforeCreate;e.beforeCreate=d?[].concat(d,r):[r]}return{exports:n,options:e}}function R(n,o,i,a){return i||a?n.call(this,o,i,a):n.call(this,o).catch(s=>{})}const{push:U,replace:B}=v.prototype;v.prototype.push=function(...n){R.call(this,U,...n)},v.prototype.replace=function(...n){R.call(this,B,...n)};const te=({beforeEach:n=null,afterEach:o=null,beforeResolve:i=null,mode:a="history",lazyHooks:s=!1,...l})=>{L.use(v);const t=new v({mode:a,...l}),c=(e,r)=>{const u=r[2];e?s?A(()=>e.call(t,...r)):e.call(t,...r):u&&u()};return t.beforeEach((...e)=>c(n,e)),t.beforeResolve((...e)=>c(i,e)),t.afterEach((...e)=>c(o,e)),t},F="modulepreload",W=function(n){return"/"+n},y={},X=function(o,i,a){if(!i||i.length===0)return o();const s=document.getElementsByTagName("link");return Promise.all(i.map(l=>{if(l=W(l),l in y)return;y[l]=!0;const t=l.endsWith(".css"),c=t?'[rel="stylesheet"]':"";if(!!a)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===l&&(!t||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const r=document.createElement("link");if(r.rel=t?"stylesheet":F,t||(r.as="script",r.crossOrigin=""),r.href=l,document.head.appendChild(r),t)return new Promise((u,d)=>{r.addEventListener("load",u),r.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>o())},q=Object.assign({});function E({model:n,name:o="",includes:i=[],actions:a={},children:s=null,customModel:l={},excludes:t=[],view:c=null,options:e={},...r}){const{list:u="",detail:d="",add:m="",edit:h="",delete:p=""}=l,f={list:`${u||"index"}`,detail:`${d||"info"}`,create:`${m||"add"}`,update:`${h||"edit"}`,delete:`${p||"delete"}`};let $={};i.length?i.forEach(_=>f[_]&&($[_]=f[_])):(t.length&&t.forEach(_=>f[_]&&delete f[_]),$=f);let b={};return s==null||s.forEach(({model:_="",actions:O={},children:k=null,includes:V=[],excludes:S=[],name:N="",view:w=null,...T})=>b[(M=>(j=>j.map((g,P)=>P?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():g.toLowerCase()))(M.split("-")).join(""))(_)]=E({model:_,actions:O,children:k,includes:V,excludes:S,name:N,...w?{view:w}:{},...T})[_]),{[n]:{name:o,actions:a,apis:$,...s?{children:b}:{},...c?{view:c}:{},...r}}}function C({model:n,menuName:o,list:i=null,detail:a=null,children:s=[],isMinors:l=!1,...t}){var c;const e=s!=null&&s.ids?(()=>{let d="";for(let m in s.ids)d+=`${s.ids[m]}`;return d})():":id?",r={menuName:o,...l?{isMinors:!0}:{}};return{path:`${l?"":"/"}${n}`,name:`${n}.index`,component:()=>X(()=>Promise.resolve().then(()=>Q),void 0),redirect:{name:`${n}.list`},meta:{menuName:o},children:[{path:`list/${e}`,name:`${n}.list`,component:i,meta:{...r,...(c=t==null?void 0:t.meta)==null?void 0:c.list}},...Array.isArray(a)?a:a?[{path:"detail/:id?",name:`${n}.detail`,component:a,meta:{...r,...(u=t==null?void 0:t.meta)==null?void 0:u.detail}}]:[],...s.map(({model:d,list:m,detail:h,menuName:p,children:f})=>C({model:d,menuName:p,list:m,detail:h,children:f,isMinors:!0}))]};var u}const D=({modules:n={},pages:o=q,modulesViewRoot:i="/src/views/admin",debug:a})=>{a&&console.log(o);const s=[];return Object.keys(n).forEach(l=>{const{children:t,name:c,view:e=null,...r}=n[l];let u=[];const d=({customView:m="",customModel:h="",type:p="list",child:f}={})=>o[`${i}/${($=>$.replace(/([A-Z])/g,"-$1").toLowerCase())(e||l)}/${f?`children/${m||h}/${p}.vue`:`${p}.vue`}`];if(t)for(const m in t){const{model:h,name:p,view:f}=t[m];u.push({model:h,menuName:p,list:d({customView:f,customModel:h,child:!0}),detail:d({customView:f,customModel:h,type:"detail",child:!0})})}s.push(C({model:l,menuName:c,list:d(),detail:d({type:"detail"}),...u.length?{children:u}:{},...r}))}),s},H=({models:n,modelsExtend:o={},pages:i=Object.assign({}),modulesViewRoot:a="/src/views/admin",debug:s})=>{const l={},t={};return n.forEach(c=>{const{model:e,options:r}=c,u=o[e]||{};r&&(t[e]=r);const d=E({...c,...u});l[e]=d[e]}),{routes:D({modules:l,pages:i,modulesViewRoot:a}),modules:l,moduleOptions:t}},ne=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));function I({routes:n,router:o=null,parentName:i="",notFound:a=null,to:s={}}){const l=[...o.options.routes],t=l.find(({name:e})=>e===i),c=()=>{t.children=[],o.matcher=new v({mode:o.mode,routes:l}).matcher};return c(),n.forEach(e=>{o.addRoute(i,e),t.children.push(e)}),a&&!o.getRoutes().some(({name:e})=>e==="not-found")&&(o.addRoute(a),o.options.routes.push(a)),{replaceTo:()=>o.replace(s),resetRouter:c}}const oe=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),Z={name:"blank"};var x=function(){var o=this,i=o._self._c;return i("router-view")},G=[],J=z(Z,x,G,!1,null,null,null,null);const K=J.exports,Q=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{X as _,te as a,oe as b,ne as m,z as n};
