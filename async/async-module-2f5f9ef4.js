import{$ as l,a,m as d}from"../main/index-93f0b128.js";import{s as u}from"./async-module-38047afd.js";import{h as p}from"./async-module-39a35f42.js";const m=t=>t.map((e,o)=>o?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e.toLowerCase()),f=t=>m(t.split("-")).join(""),c=()=>{const{currentModule:t,currentMinorModule:e,modules:o}=u(a());return{modules:o.value,currentModule:t.value,currentMinorModule:e.value}},M=({type:t,module:e})=>{const{modules:o,currentModule:r}=c();e=e||r;const s=t==="options"?f(`get-${e}-${t}`):t;if(!o[e])throw new Error(`'${e}' is an invalid ${t} module`);if(!o[e].apis[s])throw new Error(`The module '${e}' hasn't '${s}' of CRUD, includes it in origin if you want to use it`);return`/${e}/${o[e].apis[s]}`},n=async(...t)=>{const[e,o,r]=t,s=t.length===3,i=M({type:e,module:s?o:c().currentModule});return await l.post(i,s?r:t[t.length-1])},$=(...t)=>n("list",...t),w=(...t)=>n("detail",...t),A=(...t)=>n("create",...t),D=(...t)=>n("update",...t),R=(...t)=>n("delete",...t),T=()=>({formConfig:{type:[Array,Object,Function],default:()=>[]},module:{type:String,default:""},extraRequestParams:{type:[Object,Function],default:()=>({})}}),F=t=>(t.forEach(({show:e},o,r)=>r[o].show=e),d({data:t})),g=t=>{const{currentModule:e}=u(a());return p(()=>t||e.value)};export{A as C,R as D,$ as R,D as U,g as a,F as b,w as c,T as u};
